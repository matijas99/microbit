<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id=")l0]*L`wBFGbp=9NoJbP">degreesMax</variable><variable id="hJ6iJPk`=PAD5@[ow]:Z">degreesMoved</variable></variables><block type="pxt-on-start" id="/B6|TH.gi|p*i_A%vRJU" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="9-F:B-ZOfwPnSndj+C?." editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let degreesMoved = 0" numlines="1" declaredvars="degreesMoved"></mutation><next><block type="typescript_statement" id="[BKmG9nUQ1UoY=aX-|!V" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let linearSwitchPin = DigitalPin.P0" numlines="1" declaredvars="linearSwitchPin"></mutation><next><block type="typescript_statement" id="*^!tct/!#t6,1Kf/Ib2E" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let linearStepper = Kitronik_Robotics_Board.StepperMotors.Stepper1" numlines="1" declaredvars="linearStepper"></mutation><next><block type="typescript_statement" id="-LeWfJ6J*FJ`UKh_0py|" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let rotationSwitchPin = DigitalPin.P1" numlines="1" declaredvars="rotationSwitchPin"></mutation><next><block type="typescript_statement" id=")g;yFg)=~W7*+E%(ES-E" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let rotationStepper = Kitronik_Robotics_Board.StepperMotors.Stepper1" numlines="1" declaredvars="rotationStepper"></mutation><next><block type="typescript_statement" id="jJnek5dy7UXfW`xBtr19" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isSwitchOn(pin: DigitalPin) {" line1="    return pins.digitalReadPin(pin) == 1" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="mu;byB])#|u;Zndlm5^d" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function stepperForward(stepper: Kitronik_Robotics_Board.StepperMotors, degrees: number) {" line1="    Kitronik_Robotics_Board.stepperMotorTurnAngle(stepper, Kitronik_Robotics_Board.MotorDirection.Forward, degrees)" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="-+vjiwhJaLSMm6N#(Oir" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function stepperBackward(stepper: Kitronik_Robotics_Board.StepperMotors, degrees: number) {" line1="    Kitronik_Robotics_Board.stepperMotorTurnAngle(stepper, Kitronik_Robotics_Board.MotorDirection.Reverse, degrees)" line2="}" numlines="3"></mutation><next><block type="function_call" id="R@0$Mf}0Ft~J(:f(}UZ3"><mutation name="calibrateMovement" functionid="~ZkTGCQtAZ2R?%0/|}fM"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="C6+Ufclim=QwGN}09EE." x="1201" y="20"><mutation name="resetRotationPosition" functionid="RP%6ZP?hYzGU6+{axEUL"></mutation><field name="function_name">resetRotationPosition</field><statement name="STACK"><block type="variables_set" id="kRFsCk~CN@Z9Vy;qH(C}"><field name="VAR" id=")l0]*L`wBFGbp=9NoJbP">degreesMax</field><value name="VALUE"><shadow type="math_number" id="f}ekPRFi_8)T)t!GKNu["><field name="NUM">90</field></shadow></value><next><block type="device_while" id="@%{NzH1k0|2Py*D!5VD_"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="cCJ)AiV44n]yOYp4J-LF"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="R/oU,*/QL(JJ}zQyy59k"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="PdI80q5`VVMVjF3`K/L-" editable="false"><field name="EXPRESSION">isSwitchOn(rotationSwitchPin)</field></block></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="$cui+ZX~LaQv}#eC7g4I"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Gh%4t2G*56rn8nAMzV|r"><field name="VAR" id="hJ6iJPk`=PAD5@[ow]:Z">degreesMoved</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="zpo69=-8Ovm-yKrMY#9A"><field name="VAR" id=")l0]*L`wBFGbp=9NoJbP">degreesMax</field></block></value></block></value></block></value><statement name="DO"><block type="variables_change" id="!i!FK`3N1{HE$VJk[%.%"><field name="VAR" id="hJ6iJPk`=PAD5@[ow]:Z">degreesMoved</field><value name="VALUE"><shadow type="math_number" id="(JW0a4z#1Y3};8r.ZS_#"><field name="NUM">1</field></shadow></value><next><block type="typescript_statement" id="8)0#[b`sT,OxLasE+0,," editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="stepperForward(linearStepper, 1)" numlines="1"></mutation></block></next></block></statement><next><block type="controls_if" id=",Ot(I/*!X8+K,o))iH*I"><comment pinned="false" h="80" w="160">TODO calibrate if we're on the wrong side of the switch</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="}L1t.{NeC-MB#v}$_R7["><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id=",2m#M/u8AN%k[$$,hLD1" editable="false"><field name="EXPRESSION">isSwitchOn(rotationSwitchPin)</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="v|6Q]i,Y80:kSn`nh=}{" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="stepperBackward(linearStepper, degreesMoved)" numlines="1"></mutation><next><block type="variables_set" id="{{$4Fl`2yBwG(N{I}R`h"><field name="VAR" id="hJ6iJPk`=PAD5@[ow]:Z">degreesMoved</field><value name="VALUE"><shadow type="math_number" id="iKlL[QZ)a^z8=l}YG4t_"><field name="NUM">0</field></shadow></value><next><block type="device_while" id="sL9*G?.c#j_-fLz7E3Z["><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="xu#i.VXxsp^+1zDLl7qA"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="Q}e#U{1u7~Vw_$D{%pqA"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="|bb_7N4:`KQZ/O7X*6@E" editable="false"><field name="EXPRESSION">isSwitchOn(rotationSwitchPin)</field></block></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Y7/*xNY:SSxz%|Xf,Ji5"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="6oy!FY6Xl{xt54ie1OL;"><field name="VAR" id="hJ6iJPk`=PAD5@[ow]:Z">degreesMoved</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="+M7ub/q6x12a%,T2#FDb"><field name="VAR" id=")l0]*L`wBFGbp=9NoJbP">degreesMax</field></block></value></block></value></block></value><statement name="DO"><block type="variables_change" id="fXh{;@pc^_clY===d.-6"><field name="VAR" id="hJ6iJPk`=PAD5@[ow]:Z">degreesMoved</field><value name="VALUE"><shadow type="math_number" id="}[Srf$n!U=)437g$a}07"><field name="NUM">1</field></shadow></value><next><block type="typescript_statement" id="Tvd$/Xo)og=PF8cRfZ8%" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="stepperBackward(linearStepper, 1)" numlines="1"></mutation></block></next></block></statement></block></next></block></next></block></statement><next><block type="controls_if" id="8Ls$)Ldcr:$/3l|ZyT:)"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="zLYw`rkfu,PuUVx^SX2Y"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="|JAWw0M2`TNOxThxiza]" editable="false"><field name="EXPRESSION">isSwitchOn(rotationSwitchPin)</field></block></value></block></value><statement name="DO0"><block type="basic_show_icon" id="e[w|+0:f}Pk)IsMo#V-Z"><field name="i">IconNames.Confused</field><next><block type="function_return" id="x48y+wl-tF{|fB$s=mNw"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="_[d%Fe}iFQvd4j$u!rs="><field name="BOOL">FALSE</field></block></value></block></next></block></statement><next><block type="function_return" id="~qTGbhcknBWzNSR_n9x!"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="fE/o@A(8K#A/VW)FrA8u"><field name="BOOL">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="+.AGDk/SE4nt~EP~Ga#4" x="2237" y="20"><mutation name="resetPosition" functionid="1xM]f$Bx--82AEj#hF54"></mutation><field name="function_name">resetPosition</field><statement name="STACK"><block type="function_call" id="E1~}!qPWq~txTW?GpS(o"><mutation name="resetRotationPosition" functionid="RP%6ZP?hYzGU6+{axEUL"></mutation><next><block type="device_while" id="rjlMc=={H/_Qdh-`4r%8"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="$%+u7W%O%^eEB;;b[k8j"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="P;zW4?g6WnBA-OmS-E!+" editable="false"><field name="EXPRESSION">isSwitchOn(linearSwitchPin)</field></block></value></block></value><statement name="DO"><block type="typescript_statement" id="x9)scamT(03M!*Tz}eDX" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="stepperBackward(linearStepper, 1)" numlines="1"></mutation></block></statement></block></next></block></statement></block><block type="function_definition" id="F8fi/2aW/k;`UmVSx37(" x="20" y="1050"><mutation name="calibrateMovement" functionid="~ZkTGCQtAZ2R?%0/|}fM"></mutation><field name="function_name">calibrateMovement</field></block><block type="device_get_button2" id="bfZ(InKNf@j#IWHLLyuo" disabled="true" x="377" y="1050"><field name="NAME">Button.A</field></block><block type="function_call" id="IAChN2I$V#z!9b{svq[T" disabled="true" x="677" y="1050"><mutation name="switchOn" functionid="^-MIjGNjleN0Q_!z7/@s"></mutation></block></xml>